/**
 * generated by Xtext 2.25.0
 */
package dk.sdu.mmmi.mdsd.validation;

import dk.sdu.mmmi.mdsd.math.Declaration;
import dk.sdu.mmmi.mdsd.math.MathExp;
import dk.sdu.mmmi.mdsd.math.MathPackage;
import java.util.HashSet;
import org.eclipse.emf.common.util.EList;
import org.eclipse.xtext.validation.Check;

/**
 * This class contains custom validation rules.
 * 
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
@SuppressWarnings("all")
public class MathValidator extends AbstractMathValidator {
  @Check
  public void noRepeatedGlobalVarDeclaration(final MathExp math) {
    final HashSet<String> seen = new HashSet<String>();
    EList<Declaration> _variables = math.getVariables();
    for (final Declaration d : _variables) {
      boolean _contains = seen.contains(d.getName());
      if (_contains) {
        this.error("Repeated global variable", d, MathPackage.Literals.DECLARATION__NAME);
      } else {
        seen.add(d.getName());
      }
    }
    return;
  }
}
